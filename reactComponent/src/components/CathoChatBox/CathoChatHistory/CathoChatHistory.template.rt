
<div class="catho-chat-history">
  <ul class="catho-chat-history__history-list">
    <li rt-repeat="talkMessage, talkMessageIndex in this.state.talkMessages" key="{talkMessage.id}"
      class="history-talk-message-item"
      rt-class="{
        'my-message' : talkMessage.user.id === this.me.id,
        'same-previous-id': this.state.talkMessages[talkMessageIndex - 1] && talkMessage.user.id === this.state.talkMessages[talkMessageIndex - 1].user.id
      }">

      <div rt-if="talkMessage.user.id !== this.me.id &&
        ( !this.state.talkMessages[talkMessageIndex - 1] || this.state.talkMessages[talkMessageIndex - 1].user.id === this.me.id)"
         class="user-picture-wrapper">
        <div class="user-picture"></div>
      </div>

      <div class="history-message-box">
        <div class="history-message-box-content">
          <p class="history-message">{talkMessage.message.message}</p>
          <i
            class="fa alreary-read-icon"
            aria-hidden="true"
            rt-if="talkMessage.user.id === this.me.id"
            rt-class="{
              'fa-check-circle-o seen' : talkMessage.message.alreadyRead,
              'fa-clock-o not-seen' : !talkMessage.message.alreadyRead
            }"></i>

          <div class="message-details">
            <p rt-if="talkMessage.user.id !== this.me.id" class="message-detail message-user-name">{talkMessage.user.name}</p>
            <p rt-if="talkMessage.user.id === this.me.id" class="message-detail message-user-name">VocÃª</p>
            <p  class="message-detail message-company-name" rt-if="talkMessage.company">{talkMessage.company.name}</p>
            <p  class="message-detail message-time">{talkMessage.message.time}</p>
          </div>
        </div>
      </div>

      <div rt-if="talkMessage.user.id === this.me.id &&
        ( !this.state.talkMessages[talkMessageIndex - 1] || this.state.talkMessages[talkMessageIndex - 1].user.id !== this.me.id)"
        class="user-picture-wrapper">
        <div class="user-picture"></div>
      </div>

    </li>
  </div>
</div>